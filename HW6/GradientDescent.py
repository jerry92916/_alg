import numpy as np

# 數據準備
x = np.array([26, 25, 20, 23, 28, 28, 29, 30, 28, 35, 36, 33, 29, 27, 30, 33, 22, 20, 19, 22, 23, 29, 30, 33, 28, 33, 31, 38, 26, 22])
y = np.array([3000, 2000, 2150, 1500, 5500, 6000, 5123, 6010, 6648, 7001, 7214, 7101, 6812, 5651, 6468, 7510, 4031, 3984, 1594, 4010, 3151, 5413, 6641, 6847, 7000, 6413, 7300, 7701, 3101, 3100])

def gradient_descent(x, y, lr=0.001, epochs=100000):
    b0, b1 = 0.0, 0.0
    n = len(x)
    for _ in range(epochs):
        y_pred = b0 + b1 * x
        d_b0 = -(2/n) * sum(y - y_pred)
        d_b1 = -(2/n) * sum(x * (y - y_pred))
        b0 -= lr * d_b0
        b1 -= lr * d_b1
    return b0, b1

b0, b1 = gradient_descent(x, y)
print(f"【梯度下降法】截距: {b0:.4f}, 斜率: {b1:.4f}")
